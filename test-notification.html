<!DOCTYPE html>
<html>
<head>
    <title>Test Notification API</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Test Completed Orders API</h1>
    <button onclick="testAPI()">Test API</button>
    <button onclick="testPopup()">Test Popup</button>
    <pre id="result"></pre>

    <script>
        async function testAPI() {
            const result = document.getElementById('result');
            result.textContent = 'Loading...';
            
            try {
                const response = await fetch('/api/customer/completed-orders');
                const data = await response.json();
                
                result.textContent = JSON.stringify(data, null, 2);
                console.log('API Response:', data);
            } catch (error) {
                result.textContent = 'Error: ' + error.message;
                console.error('Error:', error);
            }
        }

        function testPopup() {
            // Test if popup shows up
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 9999;
            `;
            
            const popup = document.createElement('div');
            popup.style.cssText = `
                background: white;
                padding: 30px;
                border-radius: 16px;
                max-width: 400px;
            `;
            popup.innerHTML = '<h2>Test Popup</h2><p>If you see this, CSS is working!</p>';
            
            overlay.appendChild(popup);
            document.body.appendChild(overlay);
            
            overlay.onclick = () => document.body.removeChild(overlay);
            
            console.log('Test popup created');
        }
    </script>
</body>
</html>
